
---
title: "Does Money Buy Health? A Global Look at GDP and Life Expectancy"
author: "Jafar"
date: "April 26, 2025"
format:
  html:
    embed-resources: true
    code-fold: true
---

# Introduction

In today’s globalized world, economic progress is often used as a benchmark for national success. But is economic growth enough to ensure the well-being of citizens? This report explores a critical question: Does higher income truly lead to longer, healthier lives?

Using data from UNICEF and global indicators, we examine the relationship between GDP per capita and life expectancy across countries. This analysis aligns with the United Nations’ Sustainable Development Goals (SDGs) — particularly:

**SDG 3: Good Health and Well-being, and**
**SDG 8: Decent Work and Economic Growth.**
By visualizing key metrics such as GDP, population, and life expectancy, we aim to uncover patterns, disparities, and surprising exceptions. From wealthy nations to developing economies, the data reveals both progress and persisting gaps.

Through this report, we highlight how economic wealth can support public health, but isn't the only factor. Investment in healthcare, education, and social equality also play vital roles in ensuring people live longer, healthier lives — regardless of where they’re born.

---


```{python}
#| echo: false
#| results: 'hide'
#| warning: false
#| message: false

# Import libraries
import polars as pl
import geopandas as gpd
from plotnine import *

# Load data
df = pl.read_csv("unicef_metadata.csv", infer_schema_length=10000, ignore_errors=True)

# Select relevant columns and drop missing data
df_clean = (
  df.select([
    "country", 
    "year", 
    "GDP per capita (constant 2015 US$)",
    "Life expectancy at birth, total (years)",
    "Population, total"
  ])
  .drop_nulls()
)
```

---

# GDP vs Life Expectancy (Scatter Plot)

```{python}
#| echo: true
#| warning: false
#| fig-align: center
from plotnine import *

(
  ggplot(df_clean.to_pandas().query("year == 2015")) +
  aes(
      x='GDP per capita (constant 2015 US$)', # Changed to single quotes
      y='Life expectancy at birth, total (years)', # Changed to single quotes
      color='country' # Changed to single quotes
  ) +
  geom_point(alpha=0.6, size=3) +
  geom_smooth(method='lm', se=False, color="black") +
  theme_minimal() +
  labs(
      title="GDP per Capita vs Life Expectancy (2015)",
      x="GDP per Capita (US$)",
      y="Life Expectancy (Years)"
  )
)
```

---

# Life Expectancy Trends (Time-Series)

```{python}
#| echo: true
#| warning: false
#| fig-align: center
countries = ["India", "United States", "Germany", "Nigeria"]
df_subset = df_clean.filter(pl.col("country").is_in(countries))
df_subset = df_subset.rename({"Life expectancy at birth, total (years)": "life_expectancy"})

(
  ggplot(df_subset.to_pandas()) +
  aes(x="year", y="life_expectancy", color="country") +
  geom_line(size=1.2) +
  theme_minimal() +
  labs(
      title="Life Expectancy Over Time (India, US, Germany, Nigeria)",
      x="Year",
      y="Life Expectancy"
  )
)

```

---

# Top 10 Countries by Life Expectancy

```{python}
#| echo: true
#| warning: false
#| fig-align: center
top10 = (
    df_clean.filter(pl.col("year") == 2015)
    .sort("Life expectancy at birth, total (years)", descending=True)
    .head(10)
)

(
  ggplot(top10.to_pandas()) +
  aes(x="country", y="Life expectancy at birth, total (years)", fill="country") + # Removed backticks from column name
  geom_col() +
  theme_minimal() +
  labs(
      title="Top 10 Countries by Life Expectancy (2015)",
      x="Country",
      y="Life Expectancy"
  ) +
  theme(axis_text_x=element_text(rotation=45, ha="right"))
)
```

---

# Global Life Expectancy Map

```{python}
#| echo: true
#| warning: false
#| fig-align: center
# Load shape file
shape_world = gpd.read_file("https://public.opendatasoft.com/api/explore/v2.1/catalog/datasets/world-administrative-boundaries/exports/shp")

# Join with data
lifeexp_2015 = (
    df_clean.filter(pl.col("year") == 2015)
    .to_pandas()
)
map_data = shape_world.merge(lifeexp_2015, how="left", left_on="name", right_on="country")

# Plot map
from plotnine import *

(
  ggplot(map_data) +
  aes(fill="Life expectancy at birth, total (years)") + # Removed backticks around column name
  geom_map() +
  coord_fixed() +
  scale_fill_gradient(low="yellow", high="red") +
  labs(
      title="Global Life Expectancy by Country (2015)",
      subtitle="Data Source: UNICEF & World Map API",
      fill="Life Expectancy"
  ) +
  theme_minimal()
)
```

---

# Conclusion

This analysis highlights significant disparities in life expectancy across countries and their relation to economic strength. While GDP is a key driver, it is not the only factor — investments in health systems, education, and governance also matter.

**UNICEF and its partners must continue pushing for equity in health outcomes across all nations.**

---


